<!DOCTYPE html>
<html lang="lv">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="style.css" rel="stylesheet">
    <title>MÄju pÄrdoÅ¡ana</title>
</head>

<body>
    <!-- NavigÄcijas izvÄ“lne -->
    <header>
        <div class="container">
            <div class="header-content">
                <div class="logo">MÄju PÄrdoÅ¡ana</div>
                <nav>
                    <ul>
                        <li><a href="#home">SÄkums</a></li>
                        <li><a href="#about">Par mums</a></li>
                        <li><a href="#properties">MÄju piedÄvÄjumi</a></li>
                        <li><a href="#contact">Kontakti</a></li>
                    </ul>
                </nav>
                <button class="theme-toggle" id="themeToggle">ğŸŒ™</button>
            </div>
        </div>
    </header>

    <!-- GalvenÄ satura sadaÄ¼a -->
    <main>
        <section class="hero" id="home">
            <div class="container">
                <h1>Atrodiet savu sapÅ†u mÄju</h1>
                <p>MÄ“s palÄ«dzam atrast ideÄlo mÄju jÅ«su Ä£imenei. PÄrbaudiet mÅ«su aktuÄlos piedÄvÄjumus!</p>
                <button class="card-button" id="createCardBtn" style="margin-top: 1.5rem;">Izveidot jaunu kartiÅ†u</button>
            </div>
        </section>

        <div class="container">
            <!-- MeklÄ“Å¡anas sadaÄ¼a -->
            <section class="search-section">
                <div class="search-container">
                    <input type="text" id="searchInput" class="search-input" placeholder="MeklÄ“t mÄjas pÄ“c nosaukuma vai apraksta...">
                </div>
            </section>

            <!-- Kontaktu forma -->
            <section class="contact-section" id="contact">
                <h2>SazinÄties ar mums</h2>
                <form class="contact-form" id="contactForm">
                    <div class="success-message" id="successMessage">
                        ZiÅ†ojums veiksmÄ«gi nosÅ«tÄ«ts! MÄ“s ar jums sazinÄsimies drÄ«z.
                    </div>

                    <div class="form-group" id="nameGroup">
                        <label for="name">VÄrds *</label>
                        <input type="text" id="name" name="name">
                        <div class="error-message" id="nameError">LÅ«dzu ievadiet savu vÄrdu</div>
                    </div>

                    <div class="form-group" id="emailGroup">
                        <label for="email">E-pasts *</label>
                        <input type="email" id="email" name="email">
                        <div class="error-message" id="emailError">LÅ«dzu ievadiet derÄ«gu e-pasta adresi</div>
                    </div>

                    <div class="form-group" id="messageGroup">
                        <label for="message">ZiÅ†ojums *</label>
                        <textarea id="message" name="message" rows="5"></textarea>
                        <div class="error-message" id="messageError">LÅ«dzu ievadiet ziÅ†ojumu</div>
                    </div>

                    <button type="submit" class="card-button">NosÅ«tÄ«t ziÅ†ojumu</button>
                </form>
            </section>

            <section class="content">
                <div class="main-content">
                    <h2>KÄpÄ“c izvÄ“lÄ“ties mÅ«su pakalpojumus?</h2>
                    <p>MÄ“s esam vadoÅ¡Ä nekustamo Ä«paÅ¡umu aÄ£entÅ«ra reÄ£ionÄ ar vairÄk nekÄ 15 gadu pieredzi. MÅ«su komanda palÄ«dzÄ“s jums atrast ideÄlo mÄju, kas atbilst jÅ«su vajadzÄ«bÄm un budÅ¾etam.</p>

                    <img src="https://images.unsplash.com/photo-1568605114967-8130f3a36994?ixlib=rb-1.2.1&auto=format&fit=crop&w=1200&q=80" alt="MÅ«sdienu mÄja">

                    <h2>MÅ«su pakalpojumi</h2>
                    <p>MÄ“s piedÄvÄjam pilnu pakalpojumu klÄstu mÄju pÄrdoÅ¡anai un iegÄdei, tostarp nekustamo Ä«paÅ¡umu vÄ“rtÄ“Å¡anu, juridiskos pakalpojumus un finanÅ¡u konsultÄcijas.</p>
                </div>

                <aside>
                    <h3>PopulÄri raksti</h3>
                    <ul>
                        <li><a href="#">KÄ sagatavot mÄju pÄrdoÅ¡anai</a></li>
                        <li><a href="#">Top 5 kÄ¼Å«das, ko izvairÄ«ties, pÄ“rkot mÄju</a></li>
                        <li><a href="#">HipotekÄrÄ kredÄ«ta iegÅ«Å¡anas padomi</a></li>
                        <li><a href="#">KÄpÄ“c izvÄ“lÄ“ties mÄju pilsÄ“tas nomalÄ“</a></li>
                        <li><a href="#">EnerÄ£Ä“tiski efektÄ«vu mÄju priekÅ¡rocÄ«bas</a></li>
                    </ul>
                </aside>
            </section>

            <!-- KartiÅ†u sadaÄ¼a -->
            <section class="cards-section" id="properties">
                <h2>AktuÄlie piedÄvÄjumi</h2>
                <div class="cards-container" id="cardsContainer">
                    <!-- KartiÅ†as tiks ielÄdÄ“tas Å¡eit -->
                </div>
            </section>
        </div>
    </main>

    <!-- ModÄls kartiÅ†as izveidei/laboÅ¡anai -->
    <div class="modal" id="cardModal">
        <div class="modal-content">
            <h2 id="modalTitle">Izveidot jaunu kartiÅ†u</h2>
            <form id="cardForm">
                <div class="form-group">
                    <label for="cardTitle">Nosaukums:</label>
                    <input type="text" id="cardTitle" required>
                </div>
                <div class="form-group">
                    <label for="cardContent">Apraksts:</label>
                    <textarea id="cardContent" required></textarea>
                </div>
                <div class="form-group">
                    <label for="cardImage">AttÄ“la URL (neobligÄts):</label>
                    <input type="text" id="cardImage">
                </div>
                <div class="form-actions">
                    <button type="button" id="cancelBtn" class="card-button delete-btn">Atcelt</button>
                    <button type="submit" id="saveBtn" class="card-button">SaglabÄt</button>
                </div>
            </form>
        </div>
    </div>

    <!-- KÄjene -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <p>&copy; 2023 MÄju PÄrdoÅ¡ana. Visas tiesÄ«bas aizsargÄtas.</p>
                <div class="social-links">
                    <a href="#">Facebook</a>
                    <a href="#">Instagram</a>
                    <a href="#">Twitter</a>
                </div>
                <p>Kontakti: info@majupardosana.lv | +371 12345678</p>
            </div>
        </div>
    </footer>

    <script>
        // DOM elementi
        const cardsContainer = document.getElementById('cardsContainer');
        const createCardBtn = document.getElementById('createCardBtn');
        const cardModal = document.getElementById('cardModal');
        const modalTitle = document.getElementById('modalTitle');
        const cardForm = document.getElementById('cardForm');
        const cardTitle = document.getElementById('cardTitle');
        const cardContent = document.getElementById('cardContent');
        const cardImage = document.getElementById('cardImage');
        const cancelBtn = document.getElementById('cancelBtn');
        const saveBtn = document.getElementById('saveBtn');
        const searchInput = document.getElementById('searchInput');
        const contactForm = document.getElementById('contactForm');
        const successMessage = document.getElementById('successMessage');

        // KartiÅ†u dati
        let cards = [];
        let currentCardId = null;

        // Notikumu pÄrlÄ“kÅ¡anas funkcijas
        createCardBtn.addEventListener('click', () => openModal());
        cancelBtn.addEventListener('click', () => closeModal());
        cardForm.addEventListener('submit', (e) => {
            e.preventDefault();
            saveCard();
        });

        // MeklÄ“Å¡anas funkcionalitÄte
        searchInput.addEventListener('input', (e) => {
            const searchTerm = e.target.value.toLowerCase().trim();
            filterCards(searchTerm);
        });

        // Kontaktu formas validÄcija
        contactForm.addEventListener('submit', (e) => {
            e.preventDefault();
            validateAndSubmitForm();
        });

        // Funkcija modÄla atvÄ“rÅ¡anai
        function openModal(cardId = null) {
            currentCardId = cardId;

            if (cardId) {
                // LaboÅ¡anas reÅ¾Ä«ms
                modalTitle.textContent = 'Labot kartiÅ†u';
                const card = cards.find(c => c.id === cardId);
                cardTitle.value = card.title;
                cardContent.value = card.content;
                cardImage.value = card.image || '';
            } else {
                // Izveides reÅ¾Ä«ms
                modalTitle.textContent = 'Izveidot jaunu kartiÅ†u';
                cardTitle.value = '';
                cardContent.value = '';
                cardImage.value = '';
            }

            cardModal.style.display = 'flex';
        }

        // Funkcija modÄla aizvÄ“rÅ¡anai
        function closeModal() {
            cardModal.style.display = 'none';
            currentCardId = null;
        }

        // Funkcija kartiÅ†as saglabÄÅ¡anai
        function saveCard() {
            const title = cardTitle.value.trim();
            const content = cardContent.value.trim();
            const image = cardImage.value.trim();

            if (!title || !content) {
                alert('LÅ«dzu aizpildiet visus obligÄtos laukus!');
                return;
            }

            if (currentCardId) {
                // AtjauninÄt esoÅ¡u kartiÅ†u
                const cardIndex = cards.findIndex(c => c.id === currentCardId);
                cards[cardIndex] = {...cards[cardIndex],
                    title,
                    content,
                    image
                };
            } else {
                // Pievienot jaunu kartiÅ†u
                const newCard = {
                    id: Date.now().toString(),
                    title,
                    content,
                    image: image || 'https://images.unsplash.com/photo-1568605114967-8130f3a36994?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80',
                    createdAt: new Date().toISOString()
                };
                cards.push(newCard);
            }

            // SaglabÄt localStorage un atjauninÄt displeju
            saveToLocalStorage();
            renderCards();
            closeModal();
        }

        // Funkcija kartiÅ†as dzÄ“Å¡anai
        function deleteCard(cardId) {
            if (confirm('Vai tieÅ¡Äm vÄ“laties dzÄ“st Å¡o kartiÅ†u?')) {
                cards = cards.filter(c => c.id !== cardId);
                saveToLocalStorage();
                renderCards();
            }
        }

        // Funkcija kartiÅ†u attÄ“loÅ¡anai
        function renderCards() {
            if (cards.length === 0) {
                cardsContainer.innerHTML = `
                    <div class="empty-state">
                        <h3>Nav izveidotas nevienas kartiÅ†as</h3>
                        <p>NoklikÅ¡Ä·iniet uz pogas "Izveidot jaunu kartiÅ†u", lai sÄktu</p>
                    </div>
                `;
                return;
            }

            cardsContainer.innerHTML = cards.map(card => `
                <div class="card" data-title="${escapeHtml(card.title.toLowerCase())}" data-content="${escapeHtml(card.content.toLowerCase())}">
                    <img src="${card.image}" alt="${escapeHtml(card.title)}" class="card-img">
                    <div class="card-content">
                        <h3>${escapeHtml(card.title)}</h3>
                        <p>${escapeHtml(card.content)}</p>
                        <div class="card-actions">
                            <button class="card-button edit-btn" onclick="openModal('${card.id}')">Labot</button>
                            <button class="card-button delete-btn" onclick="deleteCard('${card.id}')">DzÄ“st</button>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        // Funkcija kartiÅ†u filtrÄ“Å¡anai
        function filterCards(searchTerm) {
            const allCards = document.querySelectorAll('.card');

            if (searchTerm === '') {
                // RÄdÄ«t visas kartiÅ†as, ja meklÄ“Å¡anas lauks ir tukÅ¡s
                allCards.forEach(card => {
                    card.classList.remove('hidden');
                });
                return;
            }

            allCards.forEach(card => {
                const title = card.getAttribute('data-title');
                const content = card.getAttribute('data-content');

                if (title.includes(searchTerm) || content.includes(searchTerm)) {
                    card.classList.remove('hidden');
                } else {
                    card.classList.add('hidden');
                }
            });
        }

        // Funkcija formas validÄcijai un iesniegÅ¡anai
        function validateAndSubmitForm() {
            let isValid = true;

            // Reset error states
            resetFormErrors();

            // Validate name
            const name = document.getElementById('name').value.trim();
            if (name === '') {
                showError('nameGroup', 'nameError', 'LÅ«dzu ievadiet savu vÄrdu');
                isValid = false;
            }

            // Validate email
            const email = document.getElementById('email').value.trim();
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (email === '') {
                showError('emailGroup', 'emailError', 'LÅ«dzu ievadiet e-pasta adresi');
                isValid = false;
            } else if (!emailRegex.test(email)) {
                showError('emailGroup', 'emailError', 'LÅ«dzu ievadiet derÄ«gu e-pasta adresi');
                isValid = false;
            }

            // Validate message
            const message = document.getElementById('message').value.trim();
            if (message === '') {
                showError('messageGroup', 'messageError', 'LÅ«dzu ievadiet ziÅ†ojumu');
                isValid = false;
            }

            if (isValid) {
                // Form submission successful
                successMessage.style.display = 'block';
                contactForm.reset();

                // Hide success message after 5 seconds
                setTimeout(() => {
                    successMessage.style.display = 'none';
                }, 5000);
            }
        }

        // PalÄ«gfunkcija kÄ¼Å«du rÄdÄ«Å¡anai
        function showError(groupId, errorId, message) {
            const group = document.getElementById(groupId);
            const error = document.getElementById(errorId);

            group.classList.add('error');
            error.textContent = message;
        }

        // PalÄ«gfunkcija formu kÄ¼Å«du atiestatÄ«Å¡anai
        function resetFormErrors() {
            const errorGroups = ['nameGroup', 'emailGroup', 'messageGroup'];
            errorGroups.forEach(groupId => {
                document.getElementById(groupId).classList.remove('error');
            });
        }

        // Funkcija datu saglabÄÅ¡anai localStorage
        function saveToLocalStorage() {
            localStorage.setItem('propertyCards', JSON.stringify(cards));
        }

        // Funkcija datu ielÄdei no localStorage
        function loadFromLocalStorage() {
            const storedCards = localStorage.getItem('propertyCards');
            if (storedCards) {
                cards = JSON.parse(storedCards);
            } else {
                // Pievienot daÅ¾as noklusÄ“juma kartiÅ†as, ja localStorage ir tukÅ¡s
                cards = [{
                    id: '1',
                    title: 'MÅ«sdienu mÄja pilsÄ“tas nomalÄ“',
                    content: 'Jauna, enerÄ£Ä“tiski efektÄ«va mÄja ar 4 guÄ¼amistabÄm, atvÄ“rtu plÄnojumu un lielu dÄrzu.',
                    image: 'https://images.unsplash.com/photo-1570129477492-45c003edd2be?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80',
                    createdAt: new Date().toISOString()
                }, {
                    id: '2',
                    title: 'Klassiska koka mÄja meÅ¾Ä',
                    content: 'Jauka koka mÄja klusÄ apkÄrtnÄ“ ar 3 guÄ¼amistabÄm, kamÄ«nu un terasi ar skatu uz meÅ¾u.',
                    image: 'https://images.unsplash.com/photo-1518780664697-55e3ad937233?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80',
                    createdAt: new Date().toISOString()
                }, {
                    id: '3',
                    title: 'Ä¢imenes mÄja pilsÄ“tas centrÄ',
                    content: 'Ä’rta Ä£imenes mÄja ar 5 guÄ¼amistabÄm, modernu virtuvi un dÄrza terasi. IdeÄla lielai Ä£imenei.',
                    image: 'https://images.unsplash.com/photo-1484154218962-a197022b5858?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80',
                    createdAt: new Date().toISOString()
                }];
                saveToLocalStorage();
            }
        }

        // PalÄ«gfunkcija HTML aizsardzÄ«bai
        function escapeHtml(text) {
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }

        // Dark Mode funkcionalitÄte
        const themeToggle = document.getElementById('themeToggle');
        const prefersDarkScheme = window.matchMedia('(prefers-color-scheme: dark)');

        // PÄrbauda sistÄ“mas iestatÄ«jumu un saglabÄto izvÄ“li
        if (localStorage.getItem('theme') === 'dark' ||
            (localStorage.getItem('theme') === 'auto' && prefersDarkScheme.matches)) {
            document.body.classList.add('dark-mode');
            themeToggle.textContent = 'â˜€ï¸';
        }

        themeToggle.addEventListener('click', () => {
            document.body.classList.toggle('dark-mode');

            if (document.body.classList.contains('dark-mode')) {
                themeToggle.textContent = 'â˜€ï¸';
                localStorage.setItem('theme', 'dark');
            } else {
                themeToggle.textContent = 'ğŸŒ™';
                localStorage.setItem('theme', 'light');
            }
        });

        // InicializÄcija
        function init() {
            loadFromLocalStorage();
            renderCards();
        }

        // SÄkt lietotni
        init();
    </script>
</body>

</html>

<body></body>
<!-- NavigÄcijas izvÄ“lne -->
<header>
    <div class="container">
        <div class="header-content">
            <div class="logo">MÄju PÄrdoÅ¡ana</div>
            <nav>
                <ul>
                    <li><a href="#home">SÄkums</a></li>
                    <li><a href="#about">Par mums</a></li>
                    <li><a href="#properties">MÄju piedÄvÄjumi</a></li>
                    <li><a href="#contact">Kontakti</a></li>
                </ul>
            </nav>
            <button class="theme-toggle" id="themeToggle">ğŸŒ™</button>
        </div>
    </div>
</header>

<!-- GalvenÄ satura sadaÄ¼a -->
<main>
    <section class="hero" id="home">
        <div class="container">
            <h1>Atrodiet savu sapÅ†u mÄju</h1>
            <p>MÄ“s palÄ«dzam atrast ideÄlo mÄju jÅ«su Ä£imenei. PÄrbaudiet mÅ«su aktuÄlos piedÄvÄjumus!</p>
            <button class="card-button" id="createCardBtn" style="margin-top: 1.5rem;">Izveidot jaunu kartiÅ†u</button>
        </div>
    </section>

    <div class="container">
        <!-- MeklÄ“Å¡anas sadaÄ¼a -->
        <section class="search-section">
            <div class="search-container">
                <input type="text" id="searchInput" class="search-input" placeholder="MeklÄ“t mÄjas pÄ“c nosaukuma vai apraksta...">
            </div>
        </section>

        <!-- Kontaktu forma -->
        <section class="contact-section" id="contact">
            <h2>SazinÄties ar mums</h2>
            <form class="contact-form" id="contactForm">
                <div class="success-message" id="successMessage">
                    ZiÅ†ojums veiksmÄ«gi nosÅ«tÄ«ts! MÄ“s ar jums sazinÄsimies drÄ«z.
                </div>

                <div class="form-group" id="nameGroup">
                    <label for="name">VÄrds *</label>
                    <input type="text" id="name" name="name">
                    <div class="error-message" id="nameError">LÅ«dzu ievadiet savu vÄrdu</div>
                </div>

                <div class="form-group" id="emailGroup">
                    <label for="email">E-pasts *</label>
                    <input type="email" id="email" name="email">
                    <div class="error-message" id="emailError">LÅ«dzu ievadiet derÄ«gu e-pasta adresi</div>
                </div>

                <div class="form-group" id="messageGroup">
                    <label for="message">ZiÅ†ojums *</label>
                    <textarea id="message" name="message" rows="5"></textarea>
                    <div class="error-message" id="messageError">LÅ«dzu ievadiet ziÅ†ojumu</div>
                </div>

                <button type="submit" class="card-button">NosÅ«tÄ«t ziÅ†ojumu</button>
            </form>
        </section>

        <section class="content">
            <div class="main-content">
                <h2>KÄpÄ“c izvÄ“lÄ“ties mÅ«su pakalpojumus?</h2>
                <p>MÄ“s esam vadoÅ¡Ä nekustamo Ä«paÅ¡umu aÄ£entÅ«ra reÄ£ionÄ ar vairÄk nekÄ 15 gadu pieredzi. MÅ«su komanda palÄ«dzÄ“s jums atrast ideÄlo mÄju, kas atbilst jÅ«su vajadzÄ«bÄm un budÅ¾etam.</p>

                <img src="https://images.unsplash.com/photo-1568605114967-8130f3a36994?ixlib=rb-1.2.1&auto=format&fit=crop&w=1200&q=80" alt="MÅ«sdienu mÄja">

                <h2>MÅ«su pakalpojumi</h2>
                <p>MÄ“s piedÄvÄjam pilnu pakalpojumu klÄstu mÄju pÄrdoÅ¡anai un iegÄdei, tostarp nekustamo Ä«paÅ¡umu vÄ“rtÄ“Å¡anu, juridiskos pakalpojumus un finanÅ¡u konsultÄcijas.</p>
            </div>

            <aside>
                <h3>PopulÄri raksti</h3>
                <ul>
                    <li><a href="#">KÄ sagatavot mÄju pÄrdoÅ¡anai</a></li>
                    <li><a href="#">Top 5 kÄ¼Å«das, ko izvairÄ«ties, pÄ“rkot mÄju</a></li>
                    <li><a href="#">HipotekÄrÄ kredÄ«ta iegÅ«Å¡anas padomi</a></li>
                    <li><a href="#">KÄpÄ“c izvÄ“lÄ“ties mÄju pilsÄ“tas nomalÄ“</a></li>
                    <li><a href="#">EnerÄ£Ä“tiski efektÄ«vu mÄju priekÅ¡rocÄ«bas</a></li>
                </ul>
            </aside>
        </section>

        <!-- KartiÅ†u sadaÄ¼a -->
        <section class="cards-section" id="properties">
            <h2>AktuÄlie piedÄvÄjumi</h2>
            <div class="cards-container" id="cardsContainer">
                <!-- KartiÅ†as tiks ielÄdÄ“tas Å¡eit -->
            </div>
        </section>
    </div>
</main>

<!-- ModÄls kartiÅ†as izveidei/laboÅ¡anai -->
<div class="modal" id="cardModal">
    <div class="modal-content">
        <h2 id="modalTitle">Izveidot jaunu kartiÅ†u</h2>
        <form id="cardForm">
            <div class="form-group">
                <label for="cardTitle">Nosaukums:</label>
                <input type="text" id="cardTitle" required>
            </div>
            <div class="form-group">
                <label for="cardContent">Apraksts:</label>
                <textarea id="cardContent" required></textarea>
            </div>
            <div class="form-group">
                <label for="cardImage">AttÄ“la URL (neobligÄts):</label>
                <input type="text" id="cardImage">
            </div>
            <div class="form-actions">
                <button type="button" id="cancelBtn" class="card-button delete-btn">Atcelt</button>
                <button type="submit" id="saveBtn" class="card-button">SaglabÄt</button>
            </div>
        </form>
    </div>
</div>

<!-- KÄjene -->
<footer>
    <div class="container">
        <div class="footer-content">
            <p>&copy; 2023 MÄju PÄrdoÅ¡ana. Visas tiesÄ«bas aizsargÄtas.</p>
            <div class="social-links">
                <a href="#">Facebook</a>
                <a href="#">Instagram</a>
                <a href="#">Twitter</a>
            </div>
            <p>Kontakti: info@majupardosana.lv | +371 12345678</p>
        </div>
    </div>
</footer>

<script>
    // DOM elementi
    const cardsContainer = document.getElementById('cardsContainer');
    const createCardBtn = document.getElementById('createCardBtn');
    const cardModal = document.getElementById('cardModal');
    const modalTitle = document.getElementById('modalTitle');
    const cardForm = document.getElementById('cardForm');
    const cardTitle = document.getElementById('cardTitle');
    const cardContent = document.getElementById('cardContent');
    const cardImage = document.getElementById('cardImage');
    const cancelBtn = document.getElementById('cancelBtn');
    const saveBtn = document.getElementById('saveBtn');
    const searchInput = document.getElementById('searchInput');
    const contactForm = document.getElementById('contactForm');
    const successMessage = document.getElementById('successMessage');

    // KartiÅ†u dati
    let cards = [];
    let currentCardId = null;

    // Notikumu pÄrlÄ“kÅ¡anas funkcijas
    createCardBtn.addEventListener('click', () => openModal());
    cancelBtn.addEventListener('click', () => closeModal());
    cardForm.addEventListener('submit', (e) => {
        e.preventDefault();
        saveCard();
    });

    // MeklÄ“Å¡anas funkcionalitÄte
    searchInput.addEventListener('input', (e) => {
        const searchTerm = e.target.value.toLowerCase().trim();
        filterCards(searchTerm);
    });

    // Kontaktu formas validÄcija
    contactForm.addEventListener('submit', (e) => {
        e.preventDefault();
        validateAndSubmitForm();
    });

    // Funkcija modÄla atvÄ“rÅ¡anai
    function openModal(cardId = null) {
        currentCardId = cardId;

        if (cardId) {
            // LaboÅ¡anas reÅ¾Ä«ms
            modalTitle.textContent = 'Labot kartiÅ†u';
            const card = cards.find(c => c.id === cardId);
            cardTitle.value = card.title;
            cardContent.value = card.content;
            cardImage.value = card.image || '';
        } else {
            // Izveides reÅ¾Ä«ms
            modalTitle.textContent = 'Izveidot jaunu kartiÅ†u';
            cardTitle.value = '';
            cardContent.value = '';
            cardImage.value = '';
        }

        cardModal.style.display = 'flex';
    }

    // Funkcija modÄla aizvÄ“rÅ¡anai
    function closeModal() {
        cardModal.style.display = 'none';
        currentCardId = null;
    }

    // Funkcija kartiÅ†as saglabÄÅ¡anai
    function saveCard() {
        const title = cardTitle.value.trim();
        const content = cardContent.value.trim();
        const image = cardImage.value.trim();

        if (!title || !content) {
            alert('LÅ«dzu aizpildiet visus obligÄtos laukus!');
            return;
        }

        if (currentCardId) {
            // AtjauninÄt esoÅ¡u kartiÅ†u
            const cardIndex = cards.findIndex(c => c.id === currentCardId);
            cards[cardIndex] = {...cards[cardIndex],
                title,
                content,
                image
            };
        } else {
            // Pievienot jaunu kartiÅ†u
            const newCard = {
                id: Date.now().toString(),
                title,
                content,
                image: image || 'https://images.unsplash.com/photo-1568605114967-8130f3a36994?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80',
                createdAt: new Date().toISOString()
            };
            cards.push(newCard);
        }

        // SaglabÄt localStorage un atjauninÄt displeju
        saveToLocalStorage();
        renderCards();
        closeModal();
    }

    // Funkcija kartiÅ†as dzÄ“Å¡anai
    function deleteCard(cardId) {
        if (confirm('Vai tieÅ¡Äm vÄ“laties dzÄ“st Å¡o kartiÅ†u?')) {
            cards = cards.filter(c => c.id !== cardId);
            saveToLocalStorage();
            renderCards();
        }
    }

    // Funkcija kartiÅ†u attÄ“loÅ¡anai
    function renderCards() {
        if (cards.length === 0) {
            cardsContainer.innerHTML = `
                    <div class="empty-state">
                        <h3>Nav izveidotas nevienas kartiÅ†as</h3>
                        <p>NoklikÅ¡Ä·iniet uz pogas "Izveidot jaunu kartiÅ†u", lai sÄktu</p>
                    </div>
                `;
            return;
        }

        cardsContainer.innerHTML = cards.map(card => `
                <div class="card" data-title="${escapeHtml(card.title.toLowerCase())}" data-content="${escapeHtml(card.content.toLowerCase())}">
                    <img src="${card.image}" alt="${escapeHtml(card.title)}" class="card-img">
                    <div class="card-content">
                        <h3>${escapeHtml(card.title)}</h3>
                        <p>${escapeHtml(card.content)}</p>
                        <div class="card-actions">
                            <button class="card-button edit-btn" onclick="openModal('${card.id}')">Labot</button>
                            <button class="card-button delete-btn" onclick="deleteCard('${card.id}')">DzÄ“st</button>
                        </div>
                    </div>
                </div>
            `).join('');
    }

    // Funkcija kartiÅ†u filtrÄ“Å¡anai
    function filterCards(searchTerm) {
        const allCards = document.querySelectorAll('.card');

        if (searchTerm === '') {
            // RÄdÄ«t visas kartiÅ†as, ja meklÄ“Å¡anas lauks ir tukÅ¡s
            allCards.forEach(card => {
                card.classList.remove('hidden');
            });
            return;
        }

        allCards.forEach(card => {
            const title = card.getAttribute('data-title');
            const content = card.getAttribute('data-content');

            if (title.includes(searchTerm) || content.includes(searchTerm)) {
                card.classList.remove('hidden');
            } else {
                card.classList.add('hidden');
            }
        });
    }

    // Funkcija formas validÄcijai un iesniegÅ¡anai
    function validateAndSubmitForm() {
        let isValid = true;

        // Reset error states
        resetFormErrors();

        // Validate name
        const name = document.getElementById('name').value.trim();
        if (name === '') {
            showError('nameGroup', 'nameError', 'LÅ«dzu ievadiet savu vÄrdu');
            isValid = false;
        }

        // Validate email
        const email = document.getElementById('email').value.trim();
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        if (email === '') {
            showError('emailGroup', 'emailError', 'LÅ«dzu ievadiet e-pasta adresi');
            isValid = false;
        } else if (!emailRegex.test(email)) {
            showError('emailGroup', 'emailError', 'LÅ«dzu ievadiet derÄ«gu e-pasta adresi');
            isValid = false;
        }

        // Validate message
        const message = document.getElementById('message').value.trim();
        if (message === '') {
            showError('messageGroup', 'messageError', 'LÅ«dzu ievadiet ziÅ†ojumu');
            isValid = false;
        }

        if (isValid) {
            // Form submission successful
            successMessage.style.display = 'block';
            contactForm.reset();

            // Hide success message after 5 seconds
            setTimeout(() => {
                successMessage.style.display = 'none';
            }, 5000);
        }
    }

    // PalÄ«gfunkcija kÄ¼Å«du rÄdÄ«Å¡anai
    function showError(groupId, errorId, message) {
        const group = document.getElementById(groupId);
        const error = document.getElementById(errorId);

        group.classList.add('error');
        error.textContent = message;
    }

    // PalÄ«gfunkcija formu kÄ¼Å«du atiestatÄ«Å¡anai
    function resetFormErrors() {
        const errorGroups = ['nameGroup', 'emailGroup', 'messageGroup'];
        errorGroups.forEach(groupId => {
            document.getElementById(groupId).classList.remove('error');
        });
    }

    // Funkcija datu saglabÄÅ¡anai localStorage
    function saveToLocalStorage() {
        localStorage.setItem('propertyCards', JSON.stringify(cards));
    }

    // Funkcija datu ielÄdei no localStorage
    function loadFromLocalStorage() {
        const storedCards = localStorage.getItem('propertyCards');
        if (storedCards) {
            cards = JSON.parse(storedCards);
        } else {
            // Pievienot daÅ¾as noklusÄ“juma kartiÅ†as, ja localStorage ir tukÅ¡s
            cards = [{
                id: '1',
                title: 'MÅ«sdienu mÄja pilsÄ“tas nomalÄ“',
                content: 'Jauna, enerÄ£Ä“tiski efektÄ«va mÄja ar 4 guÄ¼amistabÄm, atvÄ“rtu plÄnojumu un lielu dÄrzu.',
                image: 'https://images.unsplash.com/photo-1570129477492-45c003edd2be?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80',
                createdAt: new Date().toISOString()
            }, {
                id: '2',
                title: 'Klassiska koka mÄja meÅ¾Ä',
                content: 'Jauka koka mÄja klusÄ apkÄrtnÄ“ ar 3 guÄ¼amistabÄm, kamÄ«nu un terasi ar skatu uz meÅ¾u.',
                image: 'https://images.unsplash.com/photo-1518780664697-55e3ad937233?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80',
                createdAt: new Date().toISOString()
            }, {
                id: '3',
                title: 'Ä¢imenes mÄja pilsÄ“tas centrÄ',
                content: 'Ä’rta Ä£imenes mÄja ar 5 guÄ¼amistabÄm, modernu virtuvi un dÄrza terasi. IdeÄla lielai Ä£imenei.',
                image: 'https://images.unsplash.com/photo-1484154218962-a197022b5858?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80',
                createdAt: new Date().toISOString()
            }];
            saveToLocalStorage();
        }
    }

    // PalÄ«gfunkcija HTML aizsardzÄ«bai
    function escapeHtml(text) {
        const div = document.createElement('div');
        div.textContent = text;
        return div.innerHTML;
    }

    // Dark Mode funkcionalitÄte
    const themeToggle = document.getElementById('themeToggle');
    const prefersDarkScheme = window.matchMedia('(prefers-color-scheme: dark)');

    // PÄrbauda sistÄ“mas iestatÄ«jumu un saglabÄto izvÄ“li
    if (localStorage.getItem('theme') === 'dark' ||
        (localStorage.getItem('theme') === 'auto' && prefersDarkScheme.matches)) {
        document.body.classList.add('dark-mode');
        themeToggle.textContent = 'â˜€ï¸';
    }

    themeToggle.addEventListener('click', () => {
        document.body.classList.toggle('dark-mode');

        if (document.body.classList.contains('dark-mode')) {
            themeToggle.textContent = 'â˜€ï¸';
            localStorage.setItem('theme', 'dark');
        } else {
            themeToggle.textContent = 'ğŸŒ™';
            localStorage.setItem('theme', 'light');
        }
    });

    // InicializÄcija
    function init() {
        loadFromLocalStorage();
        renderCards();
    }

    // SÄkt lietotni
    init();
</script>
</body>

</html>